(this.webpackJsonpcard_builder=this.webpackJsonpcard_builder||[]).push([[0],{249:function(e,t,a){e.exports=a(428)},388:function(e,t,a){},389:function(e,t,a){},390:function(e,t,a){},428:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"doGetAll",(function(){return M})),a.d(n,"doPutOne",(function(){return _})),a.d(n,"doUpdateOne",(function(){return J})),a.d(n,"doEdit",(function(){return Y})),a.d(n,"doFilterCards",(function(){return $})),a.d(n,"doClearSearch",(function(){return K}));var r=a(0),i=a.n(r),c=a(37),s=a.n(c),l=a(33),o=a(14),u=a(216),d=a(75),h="PUT ONE CHARACTER",m="UPDATE THE CHARACTER",p="UPDATE THE GRID ON FILTERED CARDS",b="CLEAR SEARCH AND SHOW ALL THE CARDS",f="EDIT ONE CARD",v=[],g=[],E=Object(o.c)({cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET ALL":var a=t.payload;return a;case m:var n=t.payload;return n;case h:var r=t.payload,i=r.cards,c=r.newCharacter,s=Object(d.a)(i);return s.unshift(c),s;default:return e}},edit:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{card:t.payload};default:return e}},filteredCards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var a=t.payload;return a;case b:return[];default:return e}}}),O=Object(o.d)(Object(o.a)(u.a)),y=Object(o.e)(E,{},O),C=(a(258),a(23)),w=a(24),j=a(26),S=a(25),k=a(445),A=a(447),x=a(429),R=a(50),T=a(18),D=a(15),H=a(443),L=a(100),I=a(29),N=a.n(I),P=a(49),B=a(77),G=a.n(B),U="https://cardbuilderv2.herokuapp.com/";function q(e){return F.apply(this,arguments)}function F(){return(F=Object(P.a)(N.a.mark((function e(t){var a,n,r,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.next=3,G()({method:"POST",url:U+"characters",data:t}).catch((function(e){return a=e}));case 3:if(n=e.sent,r=n.data,!a&&n){e.next=9;break}return e.abrupt("return",{status:0,message:"Please check your network connectivity!"});case 9:if(!("code"in r)||"23505"!==r.code){e.next=13;break}return e.abrupt("return",{status:0,message:"Buddy, that Character already exists!"});case 13:if(!("code"in r)){e.next=15;break}return e.abrupt("return",{status:0,message:"Oops! Something went wrong while submitting your Character. Error Code : "+r.code});case 15:return i=r.character_id,e.abrupt("return",{status:1,character_id:i,message:"Your character was saved!"});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return z.apply(this,arguments)}function z(){return(z=Object(P.a)(N.a.mark((function e(t,a){var n,r,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,console.log("before",t),e.next=4,G()({method:"PUT",url:U+a,data:t}).catch((function(e){return n=e}));case 4:if(r=e.sent,!n&&r){e.next=8;break}return console.log(n,"got this error"),e.abrupt("return",{status:0,message:"Please check your network connectivity!"});case 8:if(!("code"in(i=r.data))){e.next=11;break}return e.abrupt("return",{status:0,message:"Oops! Something went wrong while submitting your Character. Error Code : "+i.code});case 11:return console.log("we have the response as",r,"and data as",i),e.abrupt("return",{status:1,character:i[0],message:"Your character was updated!"});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return function(e,t){console.log("we have getState as",t()),G.a.get(U).then((function(e){return e.data})).then((function(t){return e({type:"GET ALL",payload:t})})).catch((function(e){return console.log(e)}))}}function _(e){return function(){var t=Object(P.a)(N.a.mark((function t(a,n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=e,G.a.get(U+r)).then((function(e){return e.data})).then((function(e){return a({type:h,payload:{cards:n().cards,newCharacter:e[0]}})})).catch((function(e){return console.log(e,"\nThat card does not exist")}));case 1:case"end":return t.stop()}var r}),t)})));return function(e,a){return t.apply(this,arguments)}}()}function J(e,t){return function(a,n){var r=n().cards,i=[];console.info("The updated Card is",t);var c,s=Object(L.a)(r);try{for(s.s();!(c=s.n()).done;){var l=c.value;if(l.id===e){var o=Object(D.a)(Object(D.a)({},t),{},{id:e});i.push(o)}else i.push(l)}}catch(u){s.e(u)}finally{s.f()}a({type:m,payload:i})}}function Y(e){return function(t,a){var n=e.abilities;n=n.join(","),e=Object(D.a)(Object(D.a)({},e),{},{abilities:n}),t({type:f,payload:e})}}function $(e){return function(t,a){t({type:p,payload:e})}}function K(){return function(e,t){e({type:b})}}var Q=function(e){Object(j.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).state={loading:!1,results:[],value:""},n.timer=null,n.handleSearchChange=n.handleSearchChange.bind(Object(T.a)(n)),n.handleResultSelect=n.handleResultSelect.bind(Object(T.a)(n)),n}return Object(w.a)(a,[{key:"handleSearchChange",value:function(e,t){var a=this,n=t.value;if(this.setState({value:n,loading:!0}),!n||""===n)return clearTimeout(this.timer),this.props.doClearSearch(),void this.setState({loading:!1});var r=this.props.cards.filter((function(e){return e.name.includes(n.toLowerCase())||e.shows.includes(n.toLowerCase())}));clearTimeout(this.timer),this.timer=setTimeout((function(){a.props.doFilterCards(Object(d.a)(r)),a.setState({loading:!1})}),300);var i=r.map((function(e){return{title:e.name,description:e.shows,image:e.img}}));this.setState({results:i})}},{key:"handleResultSelect",value:function(e,t){var a=t.result.title;this.setState({value:a,loading:!1});var n=this.props.cards.filter((function(e){return e.name.includes(a.toLowerCase())||e.shows.includes(a.toLowerCase())}));this.props.doFilterCards(Object(d.a)(n))}},{key:"render",value:function(){return i.a.createElement(H.a,{fluid:!0,size:"big",loading:this.state.loading,value:this.state.value,results:this.state.results,onSearchChange:this.handleSearchChange,onResultSelect:this.handleResultSelect})}}]),a}(r.Component),V=Object(l.b)((function(e){return Object(D.a)({},e)}),(function(e){return Object(o.b)(n,e)}))(Q),X=function(e){Object(j.a)(a,e);var t=Object(S.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return i.a.createElement(k.a,{inverted:!0,stackable:!0},i.a.createElement(k.a.Item,null,i.a.createElement(A.a,null,"CARD BUILDER")),i.a.createElement(k.a.Menu,{position:"right"},i.a.createElement(k.a.Item,null,i.a.createElement(x.a,{animated:"fade",inverted:!0,onClick:this.props.handleShow},i.a.createElement(x.a.Content,{visible:!0},"Create New"),i.a.createElement(x.a.Content,{hidden:!0},i.a.createElement(R.a,{name:"plus"})))),i.a.createElement(k.a.Item,null,i.a.createElement(V,null))))}}]),a}(r.Component),Z=a(450),ee=a(439);a(388),a(389);function te(){return["red","green","blue"][Math.floor(3*Math.random())]}var ae=Object(l.b)((function(e){return Object(D.a)({},e)}),(function(e){return Object(o.b)(n,e)}))((function(e){var t=e.name,a=e.shows,n=e.abilities,r=e.img,c=e.id;n=Array.isArray(n)?n:n.split(",");var s,l=[],o=0,u=Object(L.a)(n);try{for(u.s();!(s=u.n()).done;){var d=s.value,h=i.a.createElement("label",{key:o++,className:"class-badge badge-"+te()},d);l.push(h)}}catch(m){u.e(m)}finally{u.f()}return i.a.createElement("div",{className:"character-card-v2 card-"+te()},i.a.createElement("div",{className:"portrait",style:{backgroundImage:"url("+r+")"}}),i.a.createElement("div",{className:"details"},i.a.createElement("span",{onClick:function(){e.doEdit({name:t,shows:a,abilities:n,img:r,id:c}),e.handleShow()}},i.a.createElement(R.a,{link:!0,name:"pencil alternate",style:{float:"right"},inverted:!0,size:"large"})),i.a.createElement("div",{className:"names"},i.a.createElement("div",{className:"glitch-wrapper"},i.a.createElement("div",{className:"glitch","data-text":t},t)),i.a.createElement("small",null,a)),i.a.createElement("div",{className:"classes"},l)))})),ne=a(448),re=a(449),ie=function(e){var t=e.animation,a=e.direction,n=e.visible,r=e.hideBar,c=window.innerWidth,s="very wide";return s=c<400?"thin":c>=400&&c<600?"wide":"very wide",i.a.createElement(ne.a,{as:k.a,animation:t,direction:a,icon:"labeled",inverted:!0,vertical:!0,visible:n,size:"massive",width:s,onHide:r},i.a.createElement(k.a.Item,{as:"a"},i.a.createElement(R.a,{name:"home"}),"Home"),i.a.createElement(k.a.Item,{as:"a"},i.a.createElement(R.a,{name:"gamepad"}),"Games"),i.a.createElement(k.a.Item,{as:"a"},i.a.createElement(R.a,{name:"camera"}),"Channels"))},ce=function(e){return function(t){Object(j.a)(n,t);var a=Object(S.a)(n);function n(e){var t;return Object(C.a)(this,n),(t=a.call(this,e)).state={visible:!1},t.handleClick=t.handleClick.bind(Object(T.a)(t)),t.hideBar=t.hideBar.bind(Object(T.a)(t)),t}return Object(w.a)(n,[{key:"handleClick",value:function(e){this.setState((function(e,t){return{visible:!e.visible}}))}},{key:"hideBar",value:function(){this.setState((function(e,t){return{visible:!1}}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(ne.a.Pushable,{as:re.a,style:{overflow:"hidden"}},i.a.createElement(ie,{animation:"slide along",direction:"right",visible:this.state.visible,hideBar:this.hideBar}),i.a.createElement(ne.a.Pusher,{dimmed:this.state.visible},i.a.createElement(e,this.props))))}}]),n}(r.Component)};var se=function(e){Object(j.a)(a,e);var t=Object(S.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"componentDidMount",value:function(){this.props.doGetAll()}},{key:"render",value:function(){var e=this.props,t=e.handleClick,a=e.cards,n=e.filteredCards,r=e.handleShow,c=n.length>0?n:a,s=function(e,t,a,n){for(var r=[],c=0;c<e;c+=3){for(var s=[],l=c;l<c+3&&l<e;l++){var o=i.a.createElement(Z.a.Column,{floated:"left",key:a[l].id,onClick:t},i.a.createElement(ae,Object.assign({},a[l],{handleShow:n,key:a[l].id})));s.push(o)}s=i.a.createElement(Z.a.Row,{key:c}," ",s," "),r.push(s)}return r}(c.length,t,c,r),l=n.length>0?i.a.createElement("span",null,i.a.createElement(x.a,{size:"huge",floated:"right",onClick:this.props.doClearSearch},"SHOW ALL CARDS"),i.a.createElement(ee.a,{horizontal:!0},"SEARCH RESULTS")):null;return i.a.createElement("div",{className:"main container"},l,i.a.createElement(Z.a,{stackable:!0,columns:3,celled:"internally"},s.map((function(e){return e}))))}}]),a}(r.Component),le=ce(Object(l.b)((function(e){return Object(D.a)({},e)}),(function(e){return Object(o.b)(n,e)}))(se)),oe=a(446),ue=(a(390),a(99)),de=a(444),he=a(440),me=a(442);var pe=function(e){return i.a.createElement(he.a,{size:"big",onSubmit:e.handleSubmit},i.a.createElement(he.a.Group,{widths:"equal"},i.a.createElement(he.a.Input,{required:!0,label:"The Name of your Awesome Character",placeholder:"The Flash",name:"name",value:e.name,onChange:e.handleChange})),i.a.createElement(he.a.Group,{widths:"equal"},i.a.createElement(he.a.Input,{required:!0,label:"Where did you find your character?",placeholder:"The Justice League",name:"shows",value:e.shows,onChange:e.handleChange})),i.a.createElement(he.a.Group,{widths:"equal"},i.a.createElement(me.a,{inverted:!0,trigger:i.a.createElement(he.a.Input,{required:!0,label:"What all stuff your character can do?",placeholder:"Runs fast, Lightning",name:"abilities",value:e.abilities,onChange:e.handleChange})},i.a.createElement(me.a.Content,null,"Please enter comma separated values"))),i.a.createElement(he.a.Group,{widths:"equal"},i.a.createElement(me.a,{inverted:!0,trigger:i.a.createElement(he.a.Input,{required:!0,label:"Paste in an image of your character",placeholder:"https://img1.looper.com/img/gallery/easter-eggs-in-the-flash-only-real-fans-noticed/intro-1576603048.jpg",name:"img",value:e.img,onChange:e.handleChange})},i.a.createElement(me.a.Content,null,"Please make sure it is a valid URL!"))),i.a.createElement(x.a,{loading:e.loading,disabled:e.loading,color:"green",inverted:!0,type:"submit"},"Submit"))};var be=function(e){Object(j.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(T.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(T.a)(n)),n.handleDismiss=n.handleDismiss.bind(Object(T.a)(n)),n.state={name:"",shows:"",img:"",abilities:"",err:"",loading:!1},n}return Object(w.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.edit!==e.edit&&this.setState(Object(D.a)({},this.props.edit.card))}},{key:"handleChange",value:function(e,t){var a=t.name,n=t.value;this.setState(Object(ue.a)({},a,n))}},{key:"handleSubmit",value:function(){var e=Object(P.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),delete(t=Object(D.a)({},this.state)).err,delete t.loading,!1===this.props.edit){e.next=10;break}return e.next=7,W(t,this.props.edit.card.id);case 7:a=e.sent,e.next=13;break;case 10:return e.next=12,q(t);case 12:a=e.sent;case 13:if(console.log("we have m as",a),0!==a.status){e.next=18;break}this.setState({loading:!1,err:a.message}),e.next=27;break;case 18:if(1!==a.status||!1!==this.props.edit){e.next=26;break}return e.next=21,new Promise((function(e){return setTimeout(e,1500)}));case 21:this.props.doPutOne(a.character_id),this.props.hideForm(),this.setState({name:"",shows:"",img:"",abilities:"",err:"",loading:!1}),e.next=27;break;case 26:1===a.status&&!1!==this.props.edit&&(this.props.doUpdateOne(this.props.edit.card.id,a.character),this.props.hideForm(),this.setState({name:"",shows:"",img:"",abilities:"",err:"",loading:!1}));case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleDismiss",value:function(){this.setState({err:""})}},{key:"render",value:function(){return i.a.createElement(re.a,{piled:!0},this.state.err&&this.state.err.length>0?i.a.createElement(de.a,{icon:!0,error:!0,onDismiss:this.handleDismiss},i.a.createElement(R.a,{name:"times circle"}),i.a.createElement(de.a.Header,{floated:!0},this.state.err)):null,i.a.createElement(Z.a,{columns:3,stackable:!0,celled:"internally"},i.a.createElement(Z.a.Column,{floated:"left"},i.a.createElement(ae,this.state)),i.a.createElement(Z.a.Column,{floated:"right"},i.a.createElement(pe,Object.assign({handleChange:this.handleChange,handleSubmit:this.handleSubmit},this.state)))))}}]),a}(r.Component),fe=Object(l.b)((function(e){return Object(D.a)({},e)}),(function(e){return Object(o.b)(n,e)}))(be);var ve=function(e){return function(t){Object(j.a)(n,t);var a=Object(S.a)(n);function n(e){var t;return Object(C.a)(this,n),(t=a.call(this,e)).handleShow=function(){return t.setState({active:!0})},t.handleHide=function(){return t.setState({active:!1})},t.state={active:!1},t.handleShow=t.handleShow.bind(Object(T.a)(t)),t.handleHide=t.handleHide.bind(Object(T.a)(t)),t}return Object(w.a)(n,[{key:"render",value:function(){var t=this.state.active;return i.a.createElement(oe.a.Dimmable,{dimmed:t},i.a.createElement(e,{handleHide:this.handleHide,handleShow:this.handleShow}),i.a.createElement(oe.a,{active:t,onClickOutside:this.handleHide,verticalAlign:"top"},i.a.createElement("div",{className:"builtform container"},i.a.createElement(fe,{hideForm:this.handleHide}))))}}]),n}(i.a.Component)}((function(e){return i.a.createElement("div",null,i.a.createElement(X,e),i.a.createElement(le,e))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(l.a,{store:y},i.a.createElement(ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[249,1,2]]]);
//# sourceMappingURL=main.ca4a949f.chunk.js.map